#!/usr/bin/env python

from subprocess import PIPE, Popen as run


tmuxes = ("default", "remote")
sessions = []
output = run(["pidof", "tmux"], stdout=PIPE).stdout.read()
if output:
    output = run(["tmux", "ls"], stdout=PIPE).stdout.read()
    out = output.decode().split("\n")
    for item in out:
        session = item.split(": ")[0]
        if session != "":
            sessions.append(session)

for tm in tmuxes:
    if tm in sessions:
        print ("Found session: {name}".format(name=tm))
    else:
        run('tmux new -d -s {name}'.format(name=tm), shell=True)
